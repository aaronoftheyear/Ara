# ğŸ” Character Unlock System 2.0

**Actual Implementation: Two-Stage Unlock with Franchise Requirements**

---

## ğŸ¯ How Unlocking Works

**Every character requires TWO conditions to unlock:**

1. **Franchise Requirement (MUST):** User must have watched the character's source anime (checked via MAL list)
2. **Trigger Condition (ONE OF):**
   - Get referred to that character by another character
   - OR ask for a genre/type that character specializes in

**Example:** To unlock Marin:
- âœ… Have "My Dress-Up Darling" in your MAL list
- âœ… Ask for magical girl anime (triggers referral to Marin if current character is weak in that genre)

---

## ğŸ“‹ Complete Character Matrix

### **YUJI ITADORI** (Starting Character - Jujutsu Kaisen)
**Franchise:** -  
**Strengths:** Battle Shonen (SPECIALIST), Shonen, Action, Supernatural, Horror, Psychological

**Weaknesses & Who He Refers To:**
- Slice of Life â†’ Kanbaru
- Romance â†’ Ichikawa
- Ecchi â†’ Kanbaru
- Harem â†’ Kanbaru
- Fanservice â†’ Kanbaru
- Eroge â†’ Rudeus
- Adult Games â†’ Rudeus
- Idol â†’ Shinpachi
- Magical Girl â†’ Marin
- Shojo â†’ Rikka
- Josei â†’ Kanbaru

**How to Unlock:** Always unlocked (starting character)

---

### **MARIN KITAGAWA** (My Dress-Up Darling)
**Franchise:** My Dress-Up Darling (Sono Bisque Doll wa Koi wo Suru)  
**Strengths:** Magical Girl, Shojo, Romance, Slice of Life, Comedy, Fanservice, Ecchi, Eroge, Adult Games, School, Josei

**Weaknesses & Who She Refers To:**
- Horror â†’ Ichikawa
- Psychological â†’ Ichikawa
- Mecha â†’ Kinta
- Military â†’ Kinta

**How to Unlock:**
1. **Have "My Dress-Up Darling" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred to her by any character (ask weak character for magical girl, romance, ecchi, etc.)
   - OR directly ask for "magical girl anime"

---

### **KINTA SAKATA** (Dandadan)
**Franchise:** Dandadan  
**Strengths:** Mecha, Sci-Fi, Shonen, Action, Military

**Weaknesses & Who He Refers To:**
- Magical Girl â†’ Marin
- Shojo â†’ Rikka
- Ecchi â†’ Daru
- Harem â†’ Daru
- Idol â†’ Shinpachi
- Eroge â†’ Daru
- Adult Games â†’ Daru

**How to Unlock:**
1. **Have "Dandadan" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Ishigami (he's the only one who specifically refers to Kinta for mecha)
   - OR directly ask for "mecha anime"

---

### **ICHIKAWA KYOUTAROU** (The Dangers in My Heart)
**Franchise:** The Dangers in My Heart (Boku no Kokoro no Yabai Yatsu)  
**Strengths:** Horror, Psychological, Romance, Slice of Life, School, Drama, Manga

**Weaknesses & Who He Refers To:**
- Mecha â†’ Kinta
- Sports â†’ Kanbaru
- Idol â†’ Shinpachi
- Military â†’ Kinta
- Sci-Fi â†’ Kinta
- Harem â†’ Kanbaru
- Isekai â†’ Ishigami
- Virtual Reality â†’ Ishigami
- Cyberpunk â†’ Daru
- Eroge â†’ Daru
- Adult Games â†’ Daru
- Magical Girl â†’ Marin

**How to Unlock:**
1. **Have "The Dangers in My Heart" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Ainz (he refers to Ichikawa for horror/psychological)
   - OR directly ask for "horror anime" or "psychological anime"

---

### **SHINPACHI SHIMURA** (Gintama)
**Franchise:** Gintama  
**Strengths:** Idol, Comedy, Slice of Life, School, Music

**Weaknesses & Who He Refers To:**
- Fanservice â†’ Rudeus
- Ecchi â†’ Rudeus
- Harem â†’ Rudeus
- Mecha â†’ Kinta
- Magical Girl â†’ Marin
- Eroge â†’ Rudeus
- Adult Games â†’ Rudeus
- Battle Shonen â†’ Yuji

**How to Unlock:**
1. **Have "Gintama" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for idol or music)
   - OR directly ask for "idol anime" or "music anime"

---

### **ISHIGAMI YU** (Kaguya-sama: Love is War)
**Franchise:** Kaguya-sama: Love is War (Kaguya-sama wa Kokurasetai)  
**Strengths:** Gaming, Isekai, Comedy, School, Virtual Reality, Seinen

**Weaknesses & Who He Refers To:**
- Shojo â†’ Rikka
- Josei â†’ Kanbaru

**How to Unlock:**
1. **Have "Kaguya-sama: Love is War" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for gaming or isekai)
   - OR directly ask for "gaming anime" or "virtual reality anime"

---

### **KANBARU SURUGA** (Monogatari Series)
**Franchise:** Monogatari Series (Bakemonogatari)  
**Strengths:** Sports, Supernatural, Ecchi, Fanservice, Drama, Romance, Slice of Life, Seinen, Josei, Manga

**Weaknesses & Who He Refers To:**
- Mecha â†’ Kinta
- Military â†’ Ainz
- Magical Girl â†’ Marin
- Battle Shonen â†’ Yuji

**How to Unlock:**
1. **Have "Monogatari Series" (Bakemonogatari) in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Marin (she refers to Kanbaru for BL or sports)
   - OR directly ask for "sports anime"

---

### **DARU (ITARU HASHIDA)** (Steins;Gate)
**Franchise:** Steins;Gate  
**Strengths:** Fanservice, Ecchi, Harem, Eroge, Adult Games, Sci-Fi, Cyberpunk, Comedy, Seinen, Gaming, Virtual Reality

**Weaknesses & Who He Refers To:**
- Magical Girl â†’ Marin
- Shojo â†’ Rikka
- Josei â†’ Marin

**How to Unlock:**
1. **Have "Steins;Gate" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Marin (she refers to Daru for ecchi or sci-fi)
   - OR directly ask for "ecchi anime" or "fanservice anime"

---

### **VELDORA TEMPEST** (That Time I Got Reincarnated as a Slime)
**Franchise:** That Time I Got Reincarnated as a Slime (Tensei shitara Slime Datta Ken)  
**Strengths:** Manga, Light Novels, Web Novels, Shonen, Battle Shonen, Action, Adventure, Isekai, Fantasy

**Weaknesses & Who He Refers To:**
- Slice of Life â†’ Shinpachi
- Fanservice â†’ Marin
- Ecchi â†’ Rudeus
- Harem â†’ Rudeus
- Idol â†’ Shinpachi
- Adult Games â†’ Daru
- Magical Girl â†’ Marin
- Shojo â†’ Rikka
- Josei â†’ Kanbaru
- Eroge â†’ Daru

**How to Unlock:**
1. **Have "That Time I Got Reincarnated as a Slime" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for battle shonen manga)
   - OR directly ask for "shonen manga" or "action manga"
   - **SPECIAL:** Mention "battle shonen manga" to ANYONE triggers Veldora interrupt sequence!

---

### **AINZ OOAL GOWN** (Overlord)
**Franchise:** Overlord  
**Strengths:** Isekai, Fantasy, Seinen, Drama, Action, Supernatural, Horror, Psychological, Military, Light Novels

**Weaknesses & Who He Refers To:**
- Slice of Life â†’ Shinpachi
- Fanservice â†’ Kanbaru
- Ecchi â†’ Kanbaru
- Harem â†’ Rudeus
- Idol â†’ Shinpachi
- Sports â†’ Kanbaru
- School â†’ Ishigami
- Mecha â†’ Kinta
- Magical Girl â†’ Marin
- Shojo â†’ Marin
- Josei â†’ Marin
- Eroge â†’ Rudeus
- Adult Games â†’ Rudeus

**How to Unlock:**
1. **Have "Overlord" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for horror, psychological, or isekai)
   - OR directly ask for "horror anime" or "psychological anime"

---

### **RIKKA TAKANASHI** (Love, Chunibyo & Other Delusions)
**Franchise:** Love, Chunibyo & Other Delusions (Chuunibyou demo Koi ga Shitai!)  
**Strengths:** Supernatural, Fantasy, Comedy, Romance, School, Slice of Life, Shojo

**Weaknesses & Who She Refers To:**
- Eroge â†’ Daru
- Battle Shonen â†’ Veldora
- Adult Games â†’ Daru
- Mecha â†’ Kinta
- Seinen â†’ Ainz

**How to Unlock:**
1. **Have "Love, Chunibyo & Other Delusions" (Chuunibyou demo Koi ga Shitai!) in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Marin (she refers to Rikka for supernatural or fantasy)
   - OR directly ask for "supernatural anime" or "fantasy anime"

---

### **KAKASHI HATAKE** (Naruto)
**Franchise:** Naruto (Naruto / Naruto Shippuden)  
**Strengths:** Romance (Manga specialist), Manga, Light Novels, Web Novels

**Weaknesses & Who He Refers To:**
- Idol â†’ Shinpachi
- Magical Girl â†’ Marin
- Battle Shonen â†’ Yuji

**How to Unlock:**
1. **Have "Naruto" or "Naruto Shippuden" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for romance manga)
   - OR directly ask for "romance manga" or "light novels"

---

### **KATSUKI BAKUGO** (My Hero Academia)
**Franchise:** My Hero Academia (Boku no Hero Academia)  
**Strengths:** Battle Shonen, Shonen, Action, Adventure, Sports, School

**Weaknesses & Who He Refers To:**
- Slice of Life â†’ Shinpachi
- Romance â†’ Marin
- Ecchi â†’ Marin
- Harem â†’ Rudeus
- Fanservice â†’ Marin
- Eroge â†’ Marin
- Adult Games â†’ Marin
- Idol â†’ Shinpachi
- Magical Girl â†’ Marin
- Shojo â†’ Marin
- Josei â†’ Marin

**How to Unlock:**
1. **Have "My Hero Academia" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by any character (when asking for battle shonen or sports)
   - OR directly ask for "battle shonen" or "sports anime"

---

### **RUDEUS GREYRAT** (Mushoku Tensei)
**Franchise:** Mushoku Tensei (Mushoku Tensei: Isekai Ittara Honki Dasu / Jobless Reincarnation)  
**Strengths:** Isekai, Fantasy, Adventure, Ecchi, Harem, Eroge, Action, Fanservice, Adult Games, Seinen, Light Novels

**Weaknesses & Who He Refers To:**
- Slice of Life â†’ Shinpachi
- Shojo â†’ Rikka
- Josei â†’ Kanbaru
- Idol â†’ Shinpachi
- School â†’ Yuji (if unlocked)
- Magical Girl â†’ Marin

**How to Unlock:**
1. **Have "Mushoku Tensei" in your MAL list**
2. **PLUS ONE OF:**
   - Get referred by Ainz (he refers to Rudeus for isekai or fantasy)
   - OR directly ask for "isekai anime" with mature themes

---

## âœ… SYSTEM STATUS: IMPLEMENTED

All characters above are **fully implemented** with the two-stage unlock system:
- **Franchise requirement + Trigger condition**
- **Referral system** based on character expertise
- **Genre detection** keywords in place
- **Special features:** Veldora interrupt, Potential unlock hints on recommendations

---

## ğŸ¯ Special Features

### **Veldora Interrupt Sequence**
- Trigger: Mention "battle shonen manga" to ANY character
- Result: Veldora forcefully enters chat, kicks current character, gives dramatic entrance
- Auto-recommends 3 battle shonen manga
- Works even if Veldora is locked (shows as "Unknown character")

### **Potential Contact Discovery**
- When an anime recommendation matches a locked character's franchise
- Purple hint appears: "ğŸ“± Watch to unlock potential new contact"
- Character identity remains hidden until unlock
- Encourages strategic viewing

---

| Character | Franchise Required | Trigger Keywords | Who Refers |
|-----------|-------------------|------------------|------------|
| **Yuji** | - | Always unlocked | - |
| **Marin** | My Dress-Up Darling | "magical girl" | Any character |
| **Ishigami** | Kaguya-sama | "gaming", "virtual reality" | Any character |
| **Kinta** | Dandadan | "mecha" | Ishigami |
| **Rikka** | Love, Chunibyo | "supernatural", "fantasy" | Marin |
| **Shinpachi** | Gintama | "idol", "music" | Any character |
| **Ichikawa** | The Dangers in My Heart | "horror", "psychological" | Ainz |
| **Rudeus** | Mushoku Tensei | "isekai" (mature) | Ainz |
| **Ainz** | Overlord | "horror", "psychological", "isekai" | Any character |
| **Kanbaru** | Monogatari | "sports" | Marin |
| **Daru** | Steins;Gate | "ecchi", "fanservice" | Marin |
| **Bakugo** | My Hero Academia | "battle shonen", "sports" | Any character |
| **Kakashi** | Naruto | "romance manga", "light novels" | Any character |
| **Veldora** | Slime Isekai | "shonen manga", "action manga" | Any character |

---

## ğŸ“š Genre Detection Keywords

**Current implementation** in `App.tsx detectGenresFromRequest()`:

```
magicalGirl: 'magical girl', 'magic girl', 'mahou shoujo'
battleShonen: 'battle shonen', 'battle shounen', 'dark shonen', 'modern shonen', 'new gen shonen'
romance: 'romance', 'romantic', 'love'
ecchi: 'ecchi', 'fanservice'
mecha: 'mecha', 'robot', 'gundam'
horror: 'horror', 'scary'
sliceOfLife: 'slice of life', 'sol'
shojo: 'shojo', 'shoujo'
shonen: 'shonen', 'shounen'
isekai: 'isekai'
idol: 'idol'
sports: 'sports'
bl: 'bl', 'yaoi', 'boys love'
```

---

**Last Updated:** 2025-10-16  
**System Version:** 2.0 (Two-Stage Unlock with Franchise Requirements)  
**Status:** âœ… Fully Implemented

